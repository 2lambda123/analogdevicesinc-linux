# SPDX-License-Identifier: (GPL-2.0 OR BSD-2-Clause)
# Copyright 2023 Analog Devices Inc.
%YAML 1.2
---
$id: http://devicetree.org/schemas/iio/dac/maxim,max538x.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Analog Devices MAX5380/1/2 8-bit DAC Device Driver

description: |
   The MAX5380/1/2 are low-cost, 8-bit digital-to-analog converters (DACs)
   in miniature 5-pin SOT23 packages, with a simple 2-wire serial
   interface that allows communication with multiple devices.
   More details here:
   https://www.analog.com/media/en/technical-documentation/data-sheets/MAX5380-MAX5382.pdf

maintainers:
  - Marc Paolo Sosa <marcpaolo.sosa@analog.com>

properties:

  compatible:
    enum:
      - maxim,max5380
      - maxim,max5381
      - maxim,max5382

  reg:
    maxItems: 1

  vref-supply:
    description: If not supplied, internal reference will be used.

unevaluatedProperties: false

required:
  - compatible
  - reg

allOf:
  - if:
      properties:
        compatible:
          contains:
            enum:
              - maxim,max5382
    then:
      required:
        - vref-supply

examples:
  - |
    i2c {
         #address-cells = <1>;
         #size-cells = <0>;

         dac@31 {
            compatible = "maxim,max5380";
            reg = <0x31>;
            vref-supply = <&dac_vref>;
        };
    };
...
